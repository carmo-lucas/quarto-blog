<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>lucas carmo</title>
<link>https://lucascarmo.com.br/blog.html</link>
<atom:link href="https://lucascarmo.com.br/blog.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.4.550</generator>
<lastBuildDate>Tue, 27 Feb 2024 03:00:00 GMT</lastBuildDate>
<item>
  <title>Como importar m√∫ltiplos csv para o mesmo dataframe</title>
  <dc:creator>Lucas Carmo</dc:creator>
  <link>https://lucascarmo.com.br/posts/importar-multiplos-csv/</link>
  <description><![CDATA[ 





<section id="tldr" class="level1">
<h1>tl;dr</h1>
<p>Imagine que voc√™ tem 200 arquivos em uma diret√≥rio no seu computador e precisa importar todos eles para criar uma visualiza√ß√£o. Vou te ensinar a fazer isso da forma mais simples poss√≠vel.</p>
</section>
<section id="defini√ß√µes" class="level1">
<h1>Defini√ß√µes</h1>
<p>Gostaria de dar algumas defini√ß√µes para que possa usar os termos corretos</p>
<dl>
<dt>Diret√≥rio</dt>
<dd>
Comumente chamado de ‚Äòpasta‚Äô, √© o local onde os arquivos est√£o localizados
</dd>
<dt>Caminho</dt>
<dd>
Endere√ßo do arquivo completo que inclui a extens√£o do arquivo
</dd>
</dl>
</section>
<section id="inspirac√£o" class="level1">
<h1>Inspirac√£o</h1>
<p>Durante o meu mestrado eu realizei mais de 500 experimentos em reologia e eu sabia que para organizar estas an√°lises seria necess√°rio organizar meus arquivos de uma forma padronizada para que eu pudesse acessar os dados rapidamente. Naquela √©poca eu n√£o sabia nada sobre banco de dados mas eu conhecia bem <code>.csv</code> e como a maioria dos <em>softwares</em> de equipamentos anal√≠ticos exporta desta forma eu sabia que poderia fazer funcionar.</p>
<p>O problema √© que eu precisaria importar <strong>centenas</strong> de documentos <code>.csv</code> para poder gerar as vizualiza√ß√µes e an√°lises, mas a alternativa era faz√™-lo no excel üòì.</p>
</section>
<section id="solu√ß√£o" class="level1">
<h1>Solu√ß√£o</h1>
<p>A solu√ß√£o envolveu algumas etapas:</p>
<ol type="1">
<li>Nomear os meus documentos muito bem e de forma padronizada</li>
<li>Incluir o m√°ximo de informa√ß√µes no cabe√ßalho dos documentos</li>
<li>Sempre exportar da mesma forma</li>
<li>Salvar os documentos de forma organizada nos diret√≥rios apropriados</li>
</ol>
<p>Um exemplo de documento exportado √© o demonstrado abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource txt number-lines code-with-copy"><code class="sourceCode default"><span id="cb1-1">C:\Documents\E_AS_a_1d.rwd</span>
<span id="cb1-2">Company / Operator: / lucas</span>
<span id="cb1-3">Date / Time / Version: 16.01.2019 / 16:58:44 / 4.30.0030</span>
<span id="cb1-4">Substance / Sample no: E_AS_a_1d / a</span>
<span id="cb1-5"></span>
<span id="cb1-6">   ;   t in s;  Tau in Pa;  G' in Pa;   G'' in Pa;  T in ¬∞C; </span>
<span id="cb1-7">1|1;   3,03816; 0,01000000; 287,874;    5510,48;    24,8900; </span>
<span id="cb1-8">1|2;   4,77336; 0,0111549;  1217,39;    2093,46;    24,8900; </span>
<span id="cb1-9">1|3;   6,43109; 0,0124431;  1526,54;    1898,83;    24,8900; </span>
<span id="cb1-10">1|4;   8,02304; 0,0138801;  1491,70;    2424,77;    24,8900;</span>
<span id="cb1-11">1|5;   9,74107; 0,0154831;  1607,40;    2188,76;    24,8900;</span>
<span id="cb1-12">1|6;   11,3822; 0,0172712;  1615,57;    3013,40;    24,8900;</span>
<span id="cb1-13">1|7;   13,0230; 0,0192658;  4972,53;    4013,37;    24,8900;</span></code></pre></div>
</div>
<p>Perceba que h√° v√°rias informa√ß√µes valiosas como a data, hora e nome da amostra nas primeiras linhas do documento e o restante s√£o dados formatados usando v√≠rgula (<code>,</code>) como decimal e ponto e v√≠rgula (<code>;</code>) como separador de colunas. Esta informa√ß√£o √© importante.</p>
<section id="readr" class="level2">
<h2 class="anchored" data-anchor-id="readr"><code>readr</code></h2>
<p>Eu j√° vou dar a dica de que o <code>readr::</code> √© a melhor library para trabalhar com a grande maioria dos dados e convenientemente, as fun√ß√µes de leitura de dados aceita m√∫ltiplos documentos por padr√£o no momento da importa√ß√£o.</p>
<p>Imagine que eu tenho 3 arquivos <code>.csv</code> dentro do diret√≥rio <code>importar-multiplos-csv</code> que tem um caminho conforme o seguinte <code>C:\Documentos\posts\importar-multiplos-csv</code>.</p>
<p>Este arquivo possui a formata√ß√£o como abaixo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource txt number-lines code-with-copy"><code class="sourceCode default"><span id="cb2-1">linha;nome;sexo;valor</span>
<span id="cb2-2">1;Alberto;M;55</span>
<span id="cb2-3">2;Alberto;M;56</span>
<span id="cb2-4">3;Alberto;M;49</span>
<span id="cb2-5">4;Alberto;M;50</span>
<span id="cb2-6">5;Alberto;M;52</span>
<span id="cb2-7">6;Alberto;M;59</span>
<span id="cb2-8">7;Alberto;M;60</span>
<span id="cb2-9">8;Alberto;M;61</span>
<span id="cb2-10">9;Alberto;M;65</span>
<span id="cb2-11">10;Alberto;M;70</span></code></pre></div>
</div>
<p>Usando o pacote <code>here::</code> √© mais f√°cil selecionar o caminho completo do diret√≥rio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readr)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Encontrar o caminho para a diret√≥rio onde est√£o os meus arquivos csv</span></span>
<span id="cb3-5">diretorio <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"posts"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"importar-multiplos-csv"</span>)</span>
<span id="cb3-6"></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cria uma lista dos arquivos csv que est√£o na diret√≥rio indicado </span></span>
<span id="cb3-8">lista_arquivos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dir</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">path =</span> diretorio, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">full.names =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb3-9"></span>
<span id="cb3-10">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> lista_arquivos)</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(df)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 √ó 1
   `linha;nome;sexo;valor`
   &lt;chr&gt;                  
 1 1;Alberto;M;55         
 2 2;Alberto;M;56         
 3 3;Alberto;M;49         
 4 4;Alberto;M;50         
 5 5;Alberto;M;52         
 6 6;Alberto;M;59         
 7 7;Alberto;M;60         
 8 8;Alberto;M;61         
 9 9;Alberto;M;65         
10 10;Alberto;M;70        
# ‚Ñπ 20 more rows</code></pre>
</div>
</div>
<p>Essencialmente, tendo um vetor com os caminhos dos arquivos, basta passar essa lista para a fun√ß√£o <code>read_csv()</code> e todos os arquivos ser√£o importados.</p>
<p>Da forma que executei as a√ß√µes todos os dados foram inclu√≠dos em apenas uma coluna. Isso acontece porque por padr√£o <code>read_csv()</code> entende a v√≠rgula <code>,</code> como divisor de colunas e <code>.</code> como ponto decimal mas os dados que eu apresentei usam <code>;</code> como divisor de colunas e <code>,</code> como ponto decimal, causando confus√£o no momento de identificar os valores.</p>
<p>Como √© comum o uso de <code>,</code> como ponto decimal em v√°rios pa√≠ses os desenvolvedores do <code>readr::</code> tamb√©m criaram a fun√ß√£o <code>read_csv2()</code> que entende como divisor de colunas o <code>;</code> e <code>,</code> como ponto decimal.</p>
<p>Adicionalmente h√° a fun√ß√£o <code>read_delim()</code> onde √© poss√≠vel especificar qualquer caractere como divisor de colunas como <code>|</code> e outros. H√° outras fun√ß√µes da fam√≠lia do <code>read_*()</code> que podem ser lidos na <a href="https://readr.tidyverse.org/reference/index.html">documenta√ß√£o</a> da <em>library</em>.</p>
<p>Repetindo a leitura dos dados com a fun√ß√£o correta, obt√©m-se as colunas separadas corretamente.</p>
<div class="columns">
<div class="column">
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_csv2</span>(</span>
<span id="cb5-2">   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> lista_arquivos</span>
<span id="cb5-3">   )</span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(df, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 √ó 4
   linha nome    sexo  valor
   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;
 1     1 Alberto M        55
 2     2 Alberto M        56
 3     3 Alberto M        49
 4     4 Alberto M        50
 5     5 Alberto M        52
 6     6 Alberto M        59
 7     7 Alberto M        60
 8     8 Alberto M        61
 9     9 Alberto M        65
10    10 Alberto M        70
11     1 Laura   F        45
12     2 Laura   F        45
13     3 Laura   F        46
14     4 Laura   F        46
15     5 Laura   F        47
16     6 Laura   F        45
17     7 Laura   F        44
18     8 Laura   F        43
19     9 Laura   F        42
20    10 Laura   F        45
21     1 Jonas   M        80
22     2 Jonas   M        82
23     3 Jonas   M        83
24     4 Jonas   M        86
25     5 Jonas   M        89
26     6 Jonas   M        90
27     7 Jonas   M        95
28     8 Jonas   M       101
29     9 Jonas   M       103
30    10 Jonas   M       110</code></pre>
</div>
</div>
</div><div class="column">
<p>Representado graficamente como abaixo.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">linha</th>
<th style="text-align: left;">nome</th>
<th style="text-align: left;">sexo</th>
<th style="text-align: right;">valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">55</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">56</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">59</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">60</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">61</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">65</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">Alberto</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">70</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">47</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">Laura</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">82</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">83</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">86</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">89</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">90</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">95</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">101</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">103</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">Jonas</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">110</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>R</category>
  <category>data wrangling</category>
  <category>readr</category>
  <guid>https://lucascarmo.com.br/posts/importar-multiplos-csv/</guid>
  <pubDate>Tue, 27 Feb 2024 03:00:00 GMT</pubDate>
</item>
<item>
  <title>Como criar eixos secund√°rios no ggplot2</title>
  <dc:creator>Lucas Carmo</dc:creator>
  <link>https://lucascarmo.com.br/posts/eixos-secundarios/</link>
  <description><![CDATA[ 





<section id="tldr" class="level1 page-columns page-full">
<h1>tl;dr</h1>
<p>Nesta postagem vou ensinar a gerar gr√°ficos com dois eixos Y ou dois eixos X como o abaixo:</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/grafico-tldr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="margin-caption">Exemplo de gr√°fico com dois eixos x e dois eixos y</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="o-que-√©-um-eixo-secund√°rio" class="level1">
<h1>O que √© um eixo secund√°rio?</h1>
<p>Eixos secund√°rios s√£o comuns em gr√°ficos para comparar duas ou mais vari√°veis dependentes ao longo de uma terceira vari√°vel independente. S√£o √∫teis para a visualiza√ß√£o de monitoramento de v√°rias m√©tricas com unidades diferentes ou para a compara√ß√£o de duas vari√°veis que n√£o s√£o necessariamente relacionadas ou est√£o na mesma grandeza.</p>
<p>Alguns dos <em>softwares</em> de planilha que tem funcionalidades para cria√ß√£o de gr√°ficos mais acess√≠veis possuem em seus menus a op√ß√£o de adicionar um eixo y secund√°rio.</p>
</section>
<section id="como-fazer-eixos-secund√°rios-no-ggplot2" class="level1">
<h1>Como fazer eixos secund√°rios no ggplot2?</h1>
<p>A documenta√ß√£o oficial do <code>ggplot2::</code> d√° alguns exemplos simples de como criar um eixo secund√°rio <code>y</code> ou <code>x</code> (<a href="https://ggplot2.tidyverse.org/reference/sec_axis.html">Specify a secondary axis</a>)</p>
<p>Por√©m a documenta√ß√£o n√£o abrange todas as funcionalidades poss√≠veis ent√£o nessa postagem vou buscar explorar mais as possibilidades de configura√ß√µes de eixos secund√°rios.</p>
</section>
<section id="gr√°fico-exemplo" class="level1 page-columns page-full">
<h1>Gr√°fico exemplo</h1>
<div class="cell page-columns page-full">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb1" data-cap-location="margin" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-2"></span>
<span id="cb1-3">dataframe <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb1-6">)</span>
<span id="cb1-7"></span>
<span id="cb1-8"></span>
<span id="cb1-9">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dataframe) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-10">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-11">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>()</span>
<span id="cb1-12"></span>
<span id="cb1-13">p</span></code></pre></div>
</details>
<div class="cell-output-display page-columns page-full">
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/gr√°fico-base-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="margin-caption">Gr√°fico base criado com valores aleat√≥rios.</figcaption>
</figure>
</div>
</div>
</div>
<p>O gr√°fico acima √© (<code>p</code>) √© apenas a base para as pr√≥ximas customiza√ß√µes.</p>
<p>De acordo com os exemplos na documenta√ß√£o, basta adicionar a fun√ß√£o para configurar a escala do eixo y (ou x) ao gr√°fico original e com o argumento <code>sec.axis</code> especificar as configura√ß√µes do segundo eixo. Usando <code>dup_axis()</code> como valor para o argumento, apenas ser√° duplicado o eixo y do lado esquerdo para o direito. Por√©m usando o valor <code>sec.axis()</code></p>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1">p <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dup_axis</span>())</span>
<span id="cb2-2">p <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log10</span>(.), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"log(y)"</span>))</span></code></pre></div>
</details>
<div id="fig-sec-axis" class="cell quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-axis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="fig-sec-axis-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-sec-axis-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/fig-sec-axis-1.png" class="img-fluid figure-img" data-ref-parent="fig-sec-axis" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-sec-axis-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) dup_axis()
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-sec-axis-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-sec-axis-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/fig-sec-axis-2.png" class="img-fluid figure-img" data-ref-parent="fig-sec-axis" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-sec-axis-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) sec_axis(~ log10(y))
</figcaption>
</figure>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-axis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Adi√ß√£o de eixos y secund√°rios no lado direito.
</figcaption>
</figure>
</div>
</div>
<p>Veja que ao criar um eixo secund√°rio usando <code>sec_axis()</code> √© poss√≠vel aplicar uma transforma√ß√£o na escala do eixo. No exemplo acima foi aplicado a transforma√ß√£o <img src="https://latex.codecogs.com/png.latex?%5Clog_%7B10%7D%20y"> porem podem ser aplicadas outras transforma√ß√µes lineares, como multiplica√ß√£o, exponencia√ß√£o, soma, divis√£o etc.</p>
</section>
<section id="exemplo-mais-complexo" class="level1">
<h1>Exemplo mais complexo</h1>
<p>Nos exemplos acima apenas criei um gr√°fico com os dois eixos mas sem os dados relacionados ao eixo y do lado direito portanto abaixo irei especificar melhor os usos dos dois eixos.</p>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>pi , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>)</span>
<span id="cb3-2"></span>
<span id="cb3-3">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb3-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x,</span>
<span id="cb3-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">seno =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(x),</span>
<span id="cb3-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">exponencial =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exp</span>(x)</span>
<span id="cb3-7">)</span>
<span id="cb3-8"></span>
<span id="cb3-9">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-10">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> seno), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firebrick"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-11">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> exponencial), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-12">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sin x"</span>)</span>
<span id="cb3-13"></span>
<span id="cb3-14">p</span></code></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Fun√ß√£o seno vs fun√ß√£o exponencial</figcaption>
</figure>
</div>
</div>
</div>
<p>Acima se observa um gr√°fico com duas linhas, uma representando, uma fun√ß√£o seno (vermelho), e outra fun√ß√£o exponencial (azul), por√©m mal se percebe a ‚Äúondula√ß√£o‚Äù da fun√ß√£o seno por estar com uma amplitude aparente t√£o pequena em rela√ß√£o √† fun√ß√£o exponencial. Nesses casos que se √© interessante utilizar o eixo secund√°rio para comparar a varia√ß√£o entre as duas s√©ries de dados.</p>
<p>Por√©m s√≥ criar o eixo secund√°rio n√£o significa que os dados ir√£o automaticamente ser mapeados √† nova escala criada. Como assim?</p>
<p>Os valores dos dados e os valores da escala s√£o independentes, ent√£o √© necess√°rio que sejam transformados individualmente. Isso precisa ser feito ‚Äòmanualmente‚Äô, portanto √© necess√°rio transformar os dados de uma das s√©ries de dados atrav√©s de uma transforma√ß√£o linear.</p>
<p>Esta transforma√ß√£o linear n√£o √© nada mais do que mapear os dados</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1">coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2500</span></span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> seno <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> coeficiente), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firebrick"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> exponencial), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> coeficiente, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sin(x)"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exp(x)"</span>,</span>
<span id="cb4-8">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coeficiente = "</span>, coeficiente))</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-coeficiente" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-coeficiente-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/fig-coeficiente-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-coeficiente-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2: Utiliza√ß√£o de um coeficiente com valor constante para transformar os dados e a escala do eixo secund√°rio.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Por exemplo, aplicando a multiplica√ß√£o dos valores da fun√ß√£o <img src="https://latex.codecogs.com/png.latex?%5Csin(x)"> por um coeficiente com valor 2500, (linha 4) os valores das duas fun√ß√µes ir√£o se aproximar. Por√©m ao mesmo tempo eu preciso dividir a minha escala do eixo secund√°rio pelo mesmo coeficiente (2500) para que os valores exibidos na escala sejam os antes da transforma√ß√£o (linha 7).</p>
<p>A Figura&nbsp;2 √© um exemplo completo de como utilizar o coeficiente para transformar os dados.</p>
<p>Por√©m definir coeficientes manualmente √© uma tarefa repetitiva e em alguns casos n√£o muito intuitiva. Portanto podemos tentar definir o coeficiente de forma program√°tica.</p>
</section>
<section id="calculando-o-coeficiente-ideal" class="level1">
<h1>Calculando o coeficiente ideal</h1>
<p>Nos exemplos anteriores chegamos em um coeficiente razo√°vel de forma manual, testando valores e chegamos no valor de 2500 como sendo bom o suficiente para a aplica√ß√£o.</p>
<p>Para calcularmos um coeficiente de forma program√°tica podemos escrever uma fun√ß√£o, que aceita todos os dados e nos retorna um valor, baseado em opera√ß√µes aritmm√©ticas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1">calcular_coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(dados, var_1, var_2){</span>
<span id="cb5-2">    parametros <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dados <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-3">      dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb5-4">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>({{ var_1 }}),</span>
<span id="cb5-5">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>({{ var_1 }}),</span>
<span id="cb5-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>({{ var_2 }}),</span>
<span id="cb5-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>({{ var_2 }})</span>
<span id="cb5-8">        )</span>
<span id="cb5-9">    </span>
<span id="cb5-10">    coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb5-11">                   (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_1)</span>
<span id="cb5-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(coeficiente)</span>
<span id="cb5-13">      }</span>
<span id="cb5-14"></span>
<span id="cb5-15">coeficiente_calculado <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcular_coeficiente</span>(df, seno, exponencial)</span></code></pre></div>
</div>
<p>Acima √© demostrada uma fun√ß√£o que calcula o coeficiente baseado nos valores m√°ximos e m√≠nimos das vari√°veis dadas a ela. O coeficiente calculado pela fun√ß√£o tem o valor 258.5442863 e se utilizado para refazer o gr√°fico percebe-se que as duas curvas se sobrep√µem de forma mais normalizada.</p>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> seno <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> coeficiente_calculado), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firebrick"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> exponencial), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> coeficiente_calculado, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sin(x)"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exp(x)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coeficiente = "</span>, coeficiente_calculado))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Por√©m o desafio √© implementar o c√°lculo do coeficiente diretamente na constru√ß√£o do gr√°fico e tamb√©m h√° o problema da ordem das vari√°veis na fun√ß√£o.P</p>
<section id="adequa√ß√£o-da-fun√ß√£o-de-c√°lculo-dos-coeficientes" class="level2">
<h2 class="anchored" data-anchor-id="adequa√ß√£o-da-fun√ß√£o-de-c√°lculo-dos-coeficientes">Adequa√ß√£o da fun√ß√£o de c√°lculo dos coeficientes</h2>
<p>Da forma que a fun√ß√£o foi constru√≠da o c√°lculo do coeficiente √© feito da seguinte forma:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Acoef%20=%20%5Cfrac%7B%5Cmax%20(Var_2)%20-%20%5Cmin(Var_2)%7D%7B%5Cmax%20(Var_1)%20-%20%5Cmin(Var_1)%7D%0A"></p>
<p>Portanto se os valores da <img src="https://latex.codecogs.com/png.latex?Var_2"> apresentarem uma amplitude maior do que a amplitude dos valores da <img src="https://latex.codecogs.com/png.latex?Var_1"> o valor do coeficiente ser√° positivo enquanto o inverso ir√° resultar em um coeficiente maior que zero e menor que 1 (<img src="https://latex.codecogs.com/png.latex?0%3Ccoef%3C1">), o que resultaria no gr√°fico abaixo, logo, a ordem das vari√°veis √© importante no momento de executar a fun√ß√£o.</p>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ordem das vari√°veis invertida</span></span>
<span id="cb7-2">coef2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcular_coeficiente</span>(df, exponencial, seno)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> seno <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> coef2), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firebrick"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> exponencial), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> coef2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sin(x)"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exp(x)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coeficiente = "</span>, coef2))</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Para resolver isso pode-se adicionar um bloco na fun√ß√£o <code>calcular_coeficiente()</code> que verifica se <img src="https://latex.codecogs.com/png.latex?0%3Ccoef%3C1"> e inverter o valor se necess√°rio, essa fun√ß√£o nova ser√° chamada: <code>calcular_coeficiente_smart()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1">calcular_coeficiente_smart <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(dados, var_1, var_2){</span>
<span id="cb8-2">    </span>
<span id="cb8-3">    parametros <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dados <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-4">      dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb8-5">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>( {{ var_1 }} ),</span>
<span id="cb8-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>( {{ var_1 }} ),</span>
<span id="cb8-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>( {{ var_2 }} ),</span>
<span id="cb8-8">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>( {{ var_2 }} )</span>
<span id="cb8-9">        )</span>
<span id="cb8-10"></span>
<span id="cb8-11">    coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb8-12">                   (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_1)</span>
<span id="cb8-13"></span>
<span id="cb8-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(coeficiente <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> coeficiente <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>){</span>
<span id="cb8-15">      coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>coeficiente)</span>
<span id="cb8-16">      }</span>
<span id="cb8-17">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(coeficiente)</span>
<span id="cb8-18">  }</span>
<span id="cb8-19"></span>
<span id="cb8-20">coeficientes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb8-21"></span>
<span id="cb8-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># seno depois exponencial</span></span>
<span id="cb8-23">coeficiente_calculado_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcular_coeficiente_smart</span>(df, seno, exponencial),</span>
<span id="cb8-24"></span>
<span id="cb8-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># exponencial depois seno</span></span>
<span id="cb8-26">coeficiente_calculado_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">calcular_coeficiente_smart</span>(df, exponencial, seno)</span>
<span id="cb8-27">)</span>
<span id="cb8-28"></span>
<span id="cb8-29"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(coeficientes)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 258.5443

[[2]]
[1] 258.5443</code></pre>
</div>
</div>
<p>Agora independente da ordem das vari√°veis passadas √† fun√ß√£o o coeficiente calculado ser√° sempre o valor esperado. Mas ainda falta implementar isso diretamente no gr√°fico.</p>
</section>
</section>
<section id="implementa√ß√£o-dos-coeficientes-no-gr√°fico" class="level1">
<h1>Implementa√ß√£o dos coeficientes no gr√°fico</h1>
<p>O que est√° faltando agora para finalizar o processo √© criar uma fun√ß√£o √∫nica para criar o gr√°fico com dois eixos. √â poss√≠vel fazer isso atrav√©s de uma fun√ß√£o √∫nica onde s√£o passados o dataframe e as duas vari√°veis como argumentos e o <em>output</em> seria o gr√°fico completo.</p>
<section id="uma-fun√ß√£o-que-faz-todas-as-opera√ß√µes-automaticamente" class="level2">
<h2 class="anchored" data-anchor-id="uma-fun√ß√£o-que-faz-todas-as-opera√ß√µes-automaticamente">Uma fun√ß√£o que faz todas as opera√ß√µes automaticamente</h2>
<p>Nessa fun√ß√£o tamb√©m deve se implementar o c√°lculo do coeficiente de forma a melhorar a legibilidade e tornar mais f√°cil para o usu√°rio utilizar a fun√ß√£o. Para criar essa fun√ß√£o, o usar o c√≥digo j√° escrito para calcular o coeficiente ser√° usado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1">two_y_axis_plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(df, x, var_1, var_2){</span>
<span id="cb10-2"></span>
<span id="cb10-3">  parametros <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb10-4">    dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb10-5">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>( {{ var_1 }} ),</span>
<span id="cb10-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>( {{ var_1 }} ),</span>
<span id="cb10-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>( {{ var_2 }} ),</span>
<span id="cb10-8">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_var_2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>( {{ var_2 }} )</span>
<span id="cb10-9">        )</span>
<span id="cb10-10"></span>
<span id="cb10-11">    coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span></span>
<span id="cb10-12">                   (parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>max_var_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> parametros<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>min_var_1)</span>
<span id="cb10-13"></span>
<span id="cb10-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(coeficiente <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> coeficiente <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>){</span>
<span id="cb10-15">      coeficiente <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>coeficiente)</span>
<span id="cb10-16">      }</span>
<span id="cb10-17"></span>
<span id="cb10-18">plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb10-19">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>({{ x }})) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-20">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> {{ var_1 }} <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> coeficiente), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firebrick"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-21">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> {{ var_2 }}), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-22">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(</span>
<span id="cb10-23">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(</span>
<span id="cb10-24">        <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> coeficiente,</span>
<span id="cb10-25">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sin(x)"</span></span>
<span id="cb10-26">        )</span>
<span id="cb10-27">      ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-28">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb10-29">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exp(x)"</span>,</span>
<span id="cb10-30">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"two_y_axis_plot()"</span>,</span>
<span id="cb10-31">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coeficiente = "</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(coeficiente, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)))</span>
<span id="cb10-32"></span>
<span id="cb10-33"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(plot)</span>
<span id="cb10-34">}</span></code></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">two_y_axis_plot</span>(df, x, seno, exponencial)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Executando a fun√ß√£o criada acima com os argumentos necess√°rios</figcaption>
</figure>
</div>
</div>
</div>
<p>A fun√ß√£o criada retorna automaticamente o gr√°fico com os dois eixos, com nomes e cores predefinidas mas com a o coeficiente calculado adequadamente. √â poss√≠vel transformar as customiza√ß√µes do gr√°fico em argumentos da fun√ß√£o (como cores das linhas ou at√© que tipo de <code>geom</code> dever√° ser usado), por√©m o aumento da complexidade da fun√ß√£o n√£o √© o principal a se explorar no momento.</p>
<p>O que pode se explorar √© que da mesma forma que foi criado um eixo y secund√°rio, tamb√©m pode ser criado um eixo x secund√°rio, exatamente da mesma forma. Inclusive, √© poss√≠vel utilizar a fun√ß√£o que foi criada para o gr√°fico de dois eixos y e adicionar novos elementos ao gr√°fico como linhas de refer√™ncia usando <code>geom_vline</code> e <code>geom_hline</code>.</p>
<div class="cell">
<details class="code-fold">
<summary><code>Code</code></summary>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">two_y_axis_plot</span>(df, x, seno, exponencial) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(</span>
<span id="cb12-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>),</span>
<span id="cb12-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sec.axis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sec_axis</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>  . <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> pi,</span>
<span id="cb12-5">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"radian(x)"</span>,</span>
<span id="cb12-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_number</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">suffix =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"\U03C0"</span>)</span>
<span id="cb12-7">    )</span>
<span id="cb12-8">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(pi<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, pi), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lty =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dotted"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lty =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb12-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span></code></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/eixos-secundarios/index_files/figure-html/final-customizations-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Adi√ß√£o do eixo x secund√°rio e linhas de refer√™ncia</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>ggplot2</category>
  <category>dataviz</category>
  <guid>https://lucascarmo.com.br/posts/eixos-secundarios/</guid>
  <pubDate>Sat, 11 Feb 2023 03:00:00 GMT</pubDate>
</item>
<item>
  <title>Usando o PowerToys para criar tarefas no ClickUp</title>
  <dc:creator>Lucas Carmo</dc:creator>
  <link>https://lucascarmo.com.br/posts/powertoys-run/</link>
  <description><![CDATA[ 





<section id="tldr" class="level1">
<h1>tl;dr</h1>
<p>Este artigo descreve como utilizar o um software da microsoft chamado PowerToys Run para manipular informa√ß√µes no <a href="app.clickup.com">ClickUp</a>.</p>
</section>
<section id="porque-eu-quero-integrar-o-powertoys-ao-clickup" class="level1">
<h1>Porque eu quero integrar o PowerToys ao ClickUp?</h1>
<p>Eu tenho usado o clickup para registrar algumas tarefas pessoais e da empresa. O objetivo maior √© escrever tarefas de uma forma √°gil para que eu n√£o tenha que entrar no site do clickup e navegar por v√°rias janelas at√© achar o local certo para a cria√ß√£o da mesma.</p>
<section id="mas-o-que-√©-o-powertoys" class="level2">
<h2 class="anchored" data-anchor-id="mas-o-que-√©-o-powertoys">Mas o que √© o PowerToys?</h2>
<p>PoywerToys √© um software open-source, desenvolvido pela comunidade que incrementa a experi√™ncia do windows atrav√©s de m√≥dulos de: sele√ß√£o de cores; renomea√ß√£o de arquivos; administra√ß√£o de janelas e utilit√°rios de mouse e teclado e outros, por√©m a mais interessante destas ferramentas (para mim) √© o PowerToys Run.</p>
<p>O Run √© um m√≥dulo de pesquisa parecido com a busca do windows por√©m com funcionalidades extra. Atrav√©s dele √© poss√≠vel calcular convers√µes de medidas, pesquisar arquivos, consultar cota√ß√µes de moedas e navegar at√© URL. Contudo a mais poderosa dessas fu√ß√µes √© a execu√ß√£o de comandos no shell.</p>
</section>
</section>
<section id="como-fazer-isso" class="level1">
<h1>Como fazer isso?</h1>
<p>A primeira etapa foi criar o script em <code>.ps1</code> que execute a fun√ß√£o que eu quero que fa√ßa: criar um arquivo de texto tempor√°rio que ir√° passar as informa√ß√µes para o workflow do <a href="https://www.n8n.io">n8n</a>.</p>
<section id="mas-o-que-√©-n8n" class="level2">
<h2 class="anchored" data-anchor-id="mas-o-que-√©-n8n">Mas o que √© <a href="https://www.n8n.io">n8n</a>?</h2>
<p>O <a href="https://www.n8n.io">n8n</a> √© um software que serve para cria√ß√£o de workflows baseados em n√≥dulos (nodes). Cada node recebe dados de um ou mais nodes, processa-o e repassa para um ou mais nodes, ou seja, o dado inicial √© processado atrav√©s de v√°rias etapas para que seja criada um dado final, geralmente, mas n√£o necessariamente, com a inten√ß√£o de gerar conhecimento.</p>
<hr>
<p>Eu nunca aprendi <code>powershell</code> ent√£o tive que ir atr√°s de refer√™ncias de como criar uma fun√ß√£o nesta linguagem que me permitisse passar o nome e a prioridade de uma nova tarefa.</p>
<p>A refer√™ncia que eu usei para este script √© de um <a href="https://www.youtube.com/watch?v=UVUd9_k9C6A&amp;t=20735s">v√≠deo</a> que explica como criar scripts e fun√ß√µes e demonstra como torn√°-los execut√°veis.</p>
<p>Eu aprendi que para que um script seja execut√°vel, √© necess√°rio que o arquivo seja salvo com a extens√£o <code>.ps1m</code> o que o identifica como sendo um m√≥dulo do powershell e tamb√©m deve estar salvo no diret√≥rio <code>%user%\Documents\WindowsPowerShell\Modules\MeuModulo</code>. √â importante tamb√©m garantir que a pasta e o nome do arquivo sejam iguais.</p>
<p>Este script cont√©m a seguinte fun√ß√£o <code>task</code>:</p>
<div id="lst-taskFunction" class="powershell listing quarto-float" data-filename="MeuModulo.ps1m">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-taskFunction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;1: Fun√ß√£o para Criar Tarefa
</figcaption>
<div aria-describedby="lst-taskFunction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>MeuModulo.ps1m</strong></pre>
</div>
<div class="sourceCode" id="lst-taskFunction" data-filename="MeuModulo.ps1m" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="lst-taskFunction-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span> task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span></span>
<span id="lst-taskFunction-2"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>CmdletBinding<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">()]</span></span>
<span id="lst-taskFunction-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">param</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span></span>
<span id="lst-taskFunction-4">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>Parameter<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span>Mandatory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$True</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)]</span></span>
<span id="lst-taskFunction-5">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$nome</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> $<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="lst-taskFunction-6">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$prioridade</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> $<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="lst-taskFunction-7">  <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span id="lst-taskFunction-8"></span>
<span id="lst-taskFunction-9"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$json</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{</span></span>
<span id="lst-taskFunction-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">name</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$nome</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">,</span></span>
<span id="lst-taskFunction-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">priority</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$prioridade</span></span>
<span id="lst-taskFunction-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">}"</span></span>
<span id="lst-taskFunction-13"></span>
<span id="lst-taskFunction-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Out-File</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>InputObject <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$json</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>FilePath <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"~\Automations.json"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>Encoding utf8</span>
<span id="lst-taskFunction-15"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">exit</span></span>
<span id="lst-taskFunction-16"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
</div>
</figure>
</div>
<p>A fun√ß√£o <code>task</code> aceita dois argumentos; o nome e prioridade da tarefa e salva-os em um arquivo que ser√° usado como uma forma de cache para a execu√ß√£o das etapas seguintes do workflow. Este arquivo √© formatado no modelo <code>json</code> para que sejam facilmente lidas pelo <a href="https://www.n8n.io">n8n</a> posteriormente.</p>
<p>Assim que o arquivo <code>json</code> √© criado, o <a href="https://www.n8n.io">n8n</a> inicia a automa√ß√£o que foi configurada e manda as informa√ß√µes para o ClickUp.</p>
<p>O arquivo criado pela fun√ß√£o tem esta estrutura:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Automations.json</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Automations.json" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Aqui vai o nome da tarefa a ser criada"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span> </span>
<span id="cb1-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"priority"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
<p>At√© a√≠ tudo certo mas como que eu fa√ßo para executar esta fun√ß√£o?</p>
</section>
</section>
<section id="resolvendo-as-quest√µes-do-powertoys-run" class="level1">
<h1>Resolvendo as quest√µes do PowerToys Run</h1>
<p>O PowerToys Run √© capaz de executar commandos no prompt <code>cmd</code> automaticamente atrav√©s da sua interface usando <code>&gt;</code> como prefixo.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/powertoys-run/powertoysrun.png" class="img-fluid figure-img" alt="screenshot a interface do powertoys run"></p>
<figcaption>Prompt do PowerToys Run</figcaption>
</figure>
</div>
<p>Por√©m como eu escrevi a fun√ß√£o em <code>ps1</code>, ela n√£o √© execut√°vel atrav√©s do prompt <code>cmd</code>, portanto deve-se configurar o powertoys para utilizar o prompt do powershell como default. Isso √© feito atrav√©s da modifica√ß√£o do arquivo <code>ShellPluginSettings.json</code> localizado em <code>%localappdata%\Microsoft\PowerToys\PowerToys Run\Settings\Plugins\Microsoft.Plugin.Shell</code>. Onde a configura√ß√£o para <code>Shell</code> deve ser alterada de 2 para 1.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ShellPluginSettings.json</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="ShellPluginSettings.json" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Shell"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\\</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Mudar</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">de</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">para</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb2-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"ReplaceWinR"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"LeaveShellOpen"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"RunAsAdministrator"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"Count"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{}</span></span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
<p>Para que a altera√ß√£o tenha efeito, feche o PowerToys, mude a configura√ß√£o e depois abra-o novamente. A desvantagem de usar o shell do powershell √© que ele n√£o √© fechado automaticamente por isso eu inseri <code>exit</code> na linha 17 de Listing&nbsp;1.</p>
</section>
<section id="como-configurar-o-workflow-do-n8n" class="level1">
<h1>Como configurar o workflow do <a href="https://www.n8n.io">n8n</a>?</h1>
<p>Tendo finalizado as etapas acima √© necess√°rio configura um workflow do <a href="https://www.n8n.io">n8n</a> para a cria√ß√£o da tarefa. De forma simplificada o workflow dever√° ter 4 nodes:</p>
<ol type="1">
<li>Monitora quando o arquivo √© alterado</li>
<li>L√™ o arquivo</li>
<li>Converte arquivo para json</li>
<li>Envia informa√ß√µes contidas no arquivo para o ClickUp</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://lucascarmo.com.br/posts/powertoys-run/n8nexample.png" class="img-fluid figure-img" alt="screenshot da interface de um exemplo de workflow do n8n"></p>
<figcaption>Exemplo de workflow do n8n</figcaption>
</figure>
</div>
<p>Adicionalmente podem ser adicionados nodes para tratamento de erros ou com l√≥gica de condicionais mas isso vou deixar para outro post.</p>


</section>

 ]]></description>
  <category>powershell</category>
  <category>powertoys</category>
  <category>n8n</category>
  <category>clickup</category>
  <guid>https://lucascarmo.com.br/posts/powertoys-run/</guid>
  <pubDate>Thu, 14 Jul 2022 03:00:00 GMT</pubDate>
</item>
</channel>
</rss>
